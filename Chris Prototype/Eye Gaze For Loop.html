<div id="anychart-embed-samples-bct-heat-map-chart-01" class="anychart-embed anychart-embed-samples-bct-heat-map-chart-01">
    <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>
    <div id="ac_style_samples-bct-heat-map-chart-01" style="display:none;">
        html, body, #container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        }
    </div>
    <div id="container"></div>
    <script>
        anychart.onDocumentReady(function () {
            var chart = anychart.scatter();
            anychart.data.loadCsvFile("CombinedArchive.csv", function (data) {
                var participantList = [1, 2, 3, 4, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 30, 31, 32, 33, 34, 35, 36];
                var dataSet = anychart.data.set(data);
                var view = dataSet.mapAs({ 'number': [0], 'time': [1], 'size': [2], 'x': [3], 'value': [4], 'participant': [5] });
                for (let i = 0; i < participantList.length; i++) {
                    var participant = view.filter('participant', function (value) {
                        return value == participantList[i];
                    });
                    chart.bubble(participant).name("Participant: " + participantList[i]);
                };
            });
            chart
                .title()
                .enabled(true)
                .useHtml(true)
                .padding([0, 0, 10, 0])
                .text(
                    'Fixation Data for chosen participants ' +
                    '<br/><span  style="color:#929292; font-size: 12px;">' +
                    '(bubble size means duration, each bubble represents one fixation)</span>'
                );

            // set chart margin settings
            chart.padding(20, 20, 10, 20);

            // grid settings
            chart.yGrid(true).xGrid(true).xMinorGrid(true).yMinorGrid(true);
            chart.minBubbleSize(5).maxBubbleSize(40);
            chart
                .xAxis()
                .title('X value of Pixel')
                .minorTicks(true);
            chart.yAxis().title('Y value of Pixel').minorTicks(true);

            // set chart legend settings
            chart.legend().enabled(true).padding({ bottom: 10 });

            chart
                .tooltip()
                .useHtml(true)
                .fontColor('#fff')
                .format(function () {
                    return (
                        'X: <span style="color: #d2d2d2; font-size: 12px">' +
                        this.getData('x') +
                        '</span></strong><br/>' +
                        'Y: <span style="color: #d2d2d2; font-size: 12px">' +
                        this.getData('value') +
                        '</span></strong><br/>' +
                        'Duration: <span style="color: #d2d2d2; font-size: 12px">' +
                        this.getData('size') +
                        ' ms.</span></strong>'
                    );
                });
            var xScale = chart.yScale();
            var yScale = chart.xScale();
            xScale.maximum(1200);
            yScale.maximum(1600);
            xScale.minimum(0);
            yScale.minimum(0);
            chart.container("container");
            chart.draw();
        });
        function trainingFilter(val) {
            return function (fieldVal) {
                return fieldVal === val;
            };
        }
    </script>
</div>